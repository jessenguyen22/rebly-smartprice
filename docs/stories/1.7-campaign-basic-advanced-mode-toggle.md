# Story 1.7: Campaign Basic/Advanced Mode Toggle - Brownfield Addition

## Status
Ready for Planning

## Story

**As a** Store Owner/Merchant,  
**I want** a simple/advanced mode toggle in campaign creation,  
**So that** I can start with basic features but access advanced options when needed without UI complexity overwhelming me.

## Story Context

**Existing System Integration:**
- **Integrates with**: Campaign Creation UI (`app/routes/app.campaigns.create.tsx`)
- **Technology**: Remix + React state management + Polaris components
- **Follows pattern**: Existing conditional UI rendering patterns in current components
- **Touch points**: Campaign creation form, rule builder, product targeting components

## Acceptance Criteria

### Functional Requirements

1. **Mode Toggle**: Add "Basic" / "Advanced" toggle at top of campaign creation form
2. **Basic Mode**: Show essential fields only (name, description, single rule, simple product selection)
3. **Advanced Mode**: Show all existing functionality (multiple rules, complex targeting, advanced options)

### Integration Requirements

4. Existing campaign creation functionality continues to work unchanged in Advanced mode
5. New toggle follows existing Polaris component patterns for mode switching
6. Integration with existing form state management maintains all current validation

### Quality Requirements

7. Mode switching preserves form data without loss
8. UI components follow existing responsive design patterns
9. No regression in existing advanced functionality verified

## Technical Notes

- **Integration Approach**: Add React state for mode toggle, conditionally render form sections based on mode
- **Existing Pattern Reference**: Follow conditional rendering pattern used in existing rule builder components
- **Key Constraints**: Must not break existing form validation or submission logic

## Definition of Done

- [ ] Basic/Advanced mode toggle implemented with clear labeling
- [ ] Basic mode shows simplified UI with core functionality only
- [ ] Advanced mode shows all existing functionality unchanged
- [ ] Mode switching preserves form data
- [ ] Tests verify both modes work correctly
- [ ] UI follows existing Polaris design patterns

## Risk and Compatibility Assessment

### Minimal Risk Assessment

- **Primary Risk**: Mode switching might cause form state loss or validation issues
- **Mitigation**: Implement proper React state management to preserve data across mode switches
- **Rollback**: Hide toggle with CSS/feature flag to revert to current single-mode UI

### Compatibility Verification

- ✅ No breaking changes to existing campaign creation logic
- ✅ Database interactions remain identical (no schema changes)
- ✅ UI changes are additive only (existing functionality preserved)
- ✅ Performance impact minimal (client-side state management only)

## Business Context

This story addresses stakeholder feedback from business logic analysis:
- **80/20 Rule**: Most merchants need simple campaign creation, 20% need advanced features
- **Progressive Disclosure**: Reduce cognitive load for new users while maintaining power user capabilities
- **Merchant Education**: Basic mode serves as guided learning path to advanced features

## Priority and Effort

- **Priority**: Low (UX enhancement, not blocking functionality)
- **Estimated Effort**: 3-4 hours focused development
- **Dependencies**: Story 1.6 completion (if overlap warnings in Advanced mode only)
- **Sprint**: Next sprint (after Story 1.5 final validation)

## Implementation Files

### Files to Modify
- `app/routes/app.campaigns.create.tsx` - Add mode toggle and conditional rendering
- `app/components/campaigns/RuleBuilder.tsx` - Conditional complexity based on mode
- `app/components/campaigns/ProductTargeting.tsx` - Simplified vs advanced product selection

### Test Files to Create/Update
- `tests/integration/campaign-creation-modes.test.ts` - Test both Basic and Advanced modes
- `app/routes/__tests__/app.campaigns.create.test.tsx` - Mode switching behavior

## UI/UX Specifications

### Basic Mode Features
- Campaign name and description
- Single rule builder (simplified)
- Product picker (search + select)
- Essential validation only

### Advanced Mode Features  
- All existing functionality
- Multiple rules
- Complex product targeting (collections, tags, etc.)
- Advanced validation and preview options

### Mode Toggle Design
- Location: Top-right of campaign creation form
- Component: Polaris ButtonGroup or ChoiceList
- Labels: "Basic" | "Advanced"
- Default: Basic mode for new users

## Success Criteria

The story is successful when:

1. ✅ Mode toggle provides clear differentiation between Basic and Advanced functionality
2. ✅ Basic mode reduces cognitive load for new merchants
3. ✅ Advanced mode preserves all existing power-user capabilities
4. ✅ Mode switching is seamless without data loss
5. ✅ UI follows consistent Polaris design patterns

## Related Stories

- **Story 1.5**: Webhook Integration & Real-Time Processing (prerequisite)
- **Story 1.6**: Campaign Product Overlap Prevention (related UI changes)
- **Future Story**: Merchant Onboarding Guidance (potential follow-up)

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-08-25 | 1.0 | Initial story creation based on stakeholder UX feedback | John (PM Agent) |

---

*This story implements progressive disclosure UX pattern to serve both beginner and advanced merchant needs without compromising existing functionality.*
